Oracle allocates an OS area of RAM for every connected user if the system uses external PGA regions (i.e. if the pga_aggregate_target parameter is not used and you are not using the multi-threaded server). To determine the optimal RAM allocation for any Oracle server, the DBA may use a formula. We will assume in this example that the server is a dedicated MS-Windows Oracle server, and that Oracle is the only program running on the server. 

For dedicated Oracle servers, the maximum total RAM is computed as follows: 

OS Reserved RAM – This is RAM required to run the OS kernel and system functions. 

20% of total RAM for MS-Windows
10% of total RAM for UNIX
 

Oracle Database Connections RAM – Each Oracle connection requires OS RAM regions for sorting and hash joins. (This does not apply when using the Oracle multi-threaded server or pga_aggregate_target.) The maximum amount of RAM required for a session is as follows: 

2 megabytes RAM session overhead 
+ sort_area_size 
+ hash_area_size
 

Oracle SGA RAM – This is determined by the Oracle parameter settings. 

We should subtract 20 percent from the total available RAM to allow for MS-Windows overhead. Windows uses RAM resources even when idle, and the 20 percent deduction is necessary to get the real free RAM on an idle server. Once the amount of RAM on the server is known, we will be in a position to size the Oracle database for RAM usage. 

First, we need to know the high water mark (HWM) of Oracle connections. As noted previously, each session connected to the Windows server requires a memory region for the program global area (PGA), unless Oracle’s multi-threaded server architecture or pga_aggregate_target is utilized. 

The high water mark of connected Oracle sessions can be determined in several ways. One popular method uses Oracle login and logoff system-level triggers to record sessions in a statistics table. Another method uses Oracle STATSPACK to display the values from the stats$sysstat table, or the v$resource_limit view (only after release 8.1.7, because of a bug).
-----------------------------

For one connection 

select (2048576+a.value+b.value) pga_size
from
v$parameter a, v$parameter b
where
a.name = 'sort_area_size' and b.name = 'hash_area_size'
;


For Hundered connection


select (2048576+a.value+b.value)*100 pga_size
from
v$parameter a, v$parameter b
where
a.name = 'sort_area_size' and b.name = 'hash_area_size'
;

