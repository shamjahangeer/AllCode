CREATE OR REPLACE PROCEDURE SESSION_LK_CLERENCE_PRC AS
CURSOR SESSION_LK_CLR_CUR IS
    SELECT 'ALTER SYSTEM KILL SESSION '||''''||SID||','||SERIAL||''''
    FROM (
    SELECT  C.OWNER,
            B.USERNAME,
            C.OBJECT_NAME,
            C.OBJECT_TYPE,
            B.SID SID,
            B.SERIAL# SERIAL,
            B.STATUS,
            B.OSUSER,
            B.MACHINE
    FROM
    V$LOCKED_OBJECT A ,
    V$SESSION B,
    DBA_OBJECTS C
    WHERE B.SID = A.SESSION_ID
    AND A.OBJECT_ID = C.OBJECT_ID
    AND OWNER = 'CIADMIN');
    V_STR VARCHAR2(2000);
BEGIN
    OPEN SESSION_LK_CLR_CUR;
    LOOP
    FETCH SESSION_LK_CLR_CUR 
    INTO V_STR;
    EXIT WHEN SESSION_LK_CLR_CUR%NOTFOUND;
    EXECUTE IMMEDIATE V_STR ;
   
    END LOOP;
    CLOSE SESSION_LK_CLR_CUR;
END SESSION_LK_CLERENCE_PRC;
